<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10th Quiz Pro - Scanner</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #eef2f3; display: flex; justify-content: center; padding: 20px; }
        .quiz-box { background: #fff; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); width: 100%; max-width: 450px; text-align: center; }
        h1 { color: #2c3e50; margin-bottom: 20px; }
        .btn { background: #3498db; color: white; border: none; padding: 12px; margin: 8px 0; border-radius: 8px; cursor: pointer; width: 100%; font-size: 17px; transition: 0.3s; }
        .btn:hover { background: #2980b9; }
        .hidden { display: none; }
        #status { color: #7f8c8d; font-size: 14px; margin-top: 10px; }
    </style>
</head>
<body>

<div class="quiz-box">
    <h1>üéì 10th Quiz Pro</h1>
    <div id="status">JSON ‡§´‡§º‡§æ‡§á‡§≤ ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à...</div>

    <div id="subject-menu" class="hidden">
        <h3>‡§µ‡§ø‡§∑‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç:</h3>
        <div id="subject-buttons"></div>
    </div>

    <div id="quiz-area" class="hidden">
        <h3 id="question-text"></h3>
        <div id="options-area"></div>
        <hr>
        <p>‡§∏‡•ç‡§ï‡•ã‡§∞: <span id="score-count">0</span></p>
    </div>

    <div id="result-area" class="hidden">
        <h2>‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§™‡•Ç‡§∞‡•ç‡§£!</h2>
        <p id="final-result"></p>
        <button class="btn" onclick="location.reload()">‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç</button>
    </div>
</div>

<script>
    let quizData = null;
    let currentQuestions = [];
    let qIndex = 0;
    let score = 0;

    // JSON ‡§´‡§º‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§∏‡•ç‡§ï‡•à‡§® ‡§î‡§∞ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡§æ
    async function scanQuestionFile() {
        try {
            const response = await fetch('questions.json'); // ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•Ä ‡§´‡§æ‡§á‡§≤ ‡§ï‡•ã ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§ó‡§æ
            if (!response.ok) throw new Error("‡§´‡§º‡§æ‡§á‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä");
            quizData = await response.json();
            
            document.getElementById('status').innerText = "‚úÖ ‡§´‡§º‡§æ‡§á‡§≤ ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡•ç‡§ï‡•à‡§® ‡§π‡•ã ‡§ó‡§à!";
            showSubjects();
        } catch (error) {
            document.getElementById('status').innerText = "‚ùå ‡§è‡§∞‡§∞: questions.json ‡§´‡§º‡§æ‡§á‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä!";
            console.error(error);
        }
    }

    function showSubjects() {
        document.getElementById('status').classList.add('hidden');
        const menu = document.getElementById('subject-menu');
        const btnContainer = document.getElementById('subject-buttons');
        menu.classList.remove('hidden');

        // JSON ‡§∏‡•á ‡§∏‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü‡•ç‡§∏ ‡§ï‡•ã ‡§°‡§æ‡§Ø‡§®‡§æ‡§Æ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§®‡§ø‡§ï‡§æ‡§≤‡§®‡§æ
        Object.keys(quizData).forEach(subject => {
            const b = document.createElement('button');
            b.innerText = subject;
            b.className = "btn";
            b.onclick = () => startQuiz(subject);
            btnContainer.appendChild(b);
        });
    }

    function startQuiz(sub) {
        currentQuestions = quizData[sub];
        qIndex = 0;
        score = 0;
        document.getElementById('subject-menu').classList.add('hidden');
        document.getElementById('quiz-area').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        if (qIndex < currentQuestions.length) {
            const q = currentQuestions[qIndex];
            document.getElementById('question-text').innerText = q.q;
            const optArea = document.getElementById('options-area');
            optArea.innerHTML = "";

            q.options.forEach(opt => {
                const b = document.createElement('button');
                b.innerText = opt;
                b.className = "btn";
                b.style.background = "#95a5a6";
                b.onclick = () => checkAns(opt, q.ans);
                optArea.appendChild(b);
            });
        } else {
            showFinalResult();
        }
    }

    function checkAns(selected, correct) {
        if (selected === correct) {
            score++;
            alert("‡§∏‡§π‡•Ä!");
        } else {
            alert("‡§ó‡§≤‡§§! ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: " + correct);
        }
        qIndex++;
        document.getElementById('score-count').innerText = score;
        loadQuestion();
    }

    function showFinalResult() {
        document.getElementById('quiz-area').classList.add('hidden');
        document.getElementById('result-area').classList.remove('hidden');
        document.getElementById('final-result').innerText = `‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞: ${score} / ${currentQuestions.length}`;
    }

    // ‡§™‡•á‡§ú ‡§≤‡•ã‡§° ‡§π‡•ã‡§§‡•á ‡§π‡•Ä ‡§∏‡•ç‡§ï‡•à‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
    scanQuestionFile();
</script>

</body>
</html>
